.TH xcb_shm_get_image 3  "libxcb 1.17.0" "X Version 11" "XCB Requests"
.ad l
.SH NAME
xcb_shm_get_image \- Copies data from the specified drawable to the shared memory segment.
.SH SYNOPSIS
.hy 0
.B #include <xcb/shm.h>
.SS Request function
.HP
xcb_shm_get_image_cookie_t \fBxcb_shm_get_image\fP(xcb_connection_t\ *\fIconn\fP, xcb_drawable_t\ \fIdrawable\fP, int16_t\ \fIx\fP, int16_t\ \fIy\fP, uint16_t\ \fIwidth\fP, uint16_t\ \fIheight\fP, uint32_t\ \fIplane_mask\fP, uint8_t\ \fIformat\fP, xcb_shm_seg_t\ \fIshmseg\fP, uint32_t\ \fIoffset\fP);
.PP
.SS Reply datastructure
.nf
.sp
typedef struct xcb_shm_get_image_reply_t {
    uint8_t        \fIresponse_type\fP;
    uint8_t        \fIdepth\fP;
    uint16_t       \fIsequence\fP;
    uint32_t       \fIlength\fP;
    xcb_visualid_t \fIvisual\fP;
    uint32_t       \fIsize\fP;
} \fBxcb_shm_get_image_reply_t\fP;
.fi
.SS Reply function
.HP
xcb_shm_get_image_reply_t *\fBxcb_shm_get_image_reply\fP(xcb_connection_t\ *\fIconn\fP, xcb_shm_get_image_cookie_t\ \fIcookie\fP, xcb_generic_error_t\ **\fIe\fP);
.br
.hy 1
.SH REQUEST ARGUMENTS
.IP \fIconn\fP 1i
The XCB connection to X11.
.IP \fIdrawable\fP 1i
The drawable to copy the image out of.
.IP \fIx\fP 1i
The X coordinate in the drawable to begin copying at.
.IP \fIy\fP 1i
The Y coordinate in the drawable to begin copying at.
.IP \fIwidth\fP 1i
The width of the image to copy.
.IP \fIheight\fP 1i
The height of the image to copy.
.IP \fIplane_mask\fP 1i
A mask that determines which planes are used.
.IP \fIformat\fP 1i
The format to use for the copy (???).
.IP \fIshmseg\fP 1i
The destination shared memory segment.
.IP \fIoffset\fP 1i
The offset in the shared memory segment to copy data to.
.SH REPLY FIELDS
.IP \fIresponse_type\fP 1i
The type of this reply, in this case \fIXCB_SHM_GET_IMAGE\fP. This field is also present in the \fIxcb_generic_reply_t\fP and can be used to tell replies apart from each other.
.IP \fIsequence\fP 1i
The sequence number of the last request processed by the X11 server.
.IP \fIlength\fP 1i
The length of the reply, in words (a word is 4 bytes).
.IP \fIdepth\fP 1i
The depth of the source drawable.
.IP \fIvisual\fP 1i
The visual ID of the source drawable.
.IP \fIsize\fP 1i
The number of bytes copied.
.SH DESCRIPTION
Copy data from the specified drawable to the shared memory segment.  The amount
of bytes written to the destination image is always equal to the number of bytes
read from the shared memory segment.
.SH RETURN VALUE
Returns an \fIxcb_shm_get_image_cookie_t\fP. Errors have to be handled when calling the reply function \fIxcb_shm_get_image_reply\fP.

If you want to handle errors in the event loop instead, use \fIxcb_shm_get_image_unchecked\fP. See \fBxcb-requests(3)\fP for details.
.SH ERRORS
This request does never generate any errors.
.SH SEE ALSO
.BR xcb-requests (3)
.SH AUTHOR
Generated from shm.xml. Contact xcb@lists.freedesktop.org for corrections and improvements.
